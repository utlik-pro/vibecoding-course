<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Итоговый проект: Task Manager Pro | VibeCoding</title>
  <script src="js/auth-check.js"></script>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <div class="app-container">
    <aside class="sidebar">
      <div class="sidebar-header">
        <div class="sidebar-logo">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 2L2 7l10 5 10-5-10-5z"/><path d="M2 17l10 5 10-5"/><path d="M2 12l10 5 10-5"/>
          </svg>
          VibeCoding
        </div>
      </div>
      <div class="progress-container">
        <div class="progress-bar"><div class="progress-fill" style="width: 0%"></div></div>
        <div class="progress-text">0 из 10 уроков</div>
      </div>
      <nav class="sidebar-nav">
        <div class="nav-section">Модуль 8</div>
        <a href="index.html" class="nav-item"><span class="nav-item-number"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9,22 9,12 15,12 15,22"/></svg></span>Главная</a>
        <a href="lesson-1.html" class="nav-item" data-lesson="1"><span class="nav-item-number">1</span>SQL основы</a>
        <a href="lesson-2.html" class="nav-item" data-lesson="2"><span class="nav-item-number">2</span>Фильтрация WHERE</a>
        <a href="lesson-3.html" class="nav-item" data-lesson="3"><span class="nav-item-number">3</span>Сортировка и лимиты</a>
        <a href="lesson-4.html" class="nav-item" data-lesson="4"><span class="nav-item-number">4</span>UPDATE и DELETE</a>
        <a href="lesson-5.html" class="nav-item" data-lesson="5"><span class="nav-item-number">5</span>Связи таблиц</a>
        <a href="lesson-6.html" class="nav-item" data-lesson="6"><span class="nav-item-number">6</span>JOIN запросы</a>
        <a href="lesson-7.html" class="nav-item" data-lesson="7"><span class="nav-item-number">7</span>Агрегация GROUP BY</a>
        <a href="lesson-8.html" class="nav-item" data-lesson="8"><span class="nav-item-number">8</span>Интеграция в приложение</a>
        <a href="lesson-9.html" class="nav-item" data-lesson="9"><span class="nav-item-number">9</span>Продвинутые техники</a>
        <a href="project.html" class="nav-item active" data-lesson="10"><span class="nav-item-number">P</span>Итоговый проект</a>
        <div class="nav-section" style="margin-top: 1rem;">Справочник</div>
        <a href="glossary.html" class="nav-item"><span class="nav-item-number"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/></svg></span>SQL Глоссарий</a>
        <a href="../../index.html" class="nav-item exit-btn"><span class="nav-item-number"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16,17 21,12 16,7"/><line x1="21" y1="12" x2="9" y2="12"/></svg></span>Выйти из модуля</a>
      </nav>
    </aside>

    <div class="overlay"></div>

    <main class="main-content">
      <header class="header">
        <button class="mobile-menu-btn" aria-label="Меню"><span></span><span></span><span></span></button>
        <div class="breadcrumb">
          <a href="index.html">Модуль 8</a>
          <span class="breadcrumb-separator">/</span>
          <span>Итоговый проект</span>
        </div>
        <div class="header-actions">
          <div class="mode-toggle" title="Переключить режим">
            <div class="mode-toggle-switch"></div>
            <span class="mode-toggle-label">Режим студента</span>
          </div>
        </div>
      </header>

      <div class="content">
        <div class="lesson-header">
          <div class="lesson-meta">
            <span class="lesson-number">Итоговый проект</span>
          </div>
          <h1 class="lesson-title">Task Manager Pro</h1>

          <div class="lesson-objectives">
            <h4>Результат модуля:</h4>
            <ul>
              <li>Полноценный менеджер задач с категориями</li>
              <li>База данных с связанными таблицами (tasks + categories)</li>
              <li>API endpoints с JOIN запросами и статистикой</li>
              <li>Фронтенд с фильтрацией по категориям</li>
            </ul>
          </div>
        </div>

        <!-- Preview -->
        <section class="card">
          <div class="card-header">Что должно получиться</div>
          <div class="card-body">
            <div style="background: linear-gradient(135deg, #3B82F6 0%, #8B5CF6 100%); padding: 2rem; border-radius: 12px; color: white; margin-bottom: 1rem;">
              <h3 style="margin: 0 0 1rem 0; font-size: 1.5rem;">Task Manager Pro</h3>

              <!-- Stats -->
              <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 1rem; margin-bottom: 1.5rem;">
                <div style="background: rgba(255,255,255,0.2); padding: 1rem; border-radius: 8px; text-align: center;">
                  <div style="font-size: 0.85rem; opacity: 0.8;">Всего</div>
                  <div style="font-size: 1.5rem; font-weight: bold;">12</div>
                </div>
                <div style="background: rgba(255,255,255,0.2); padding: 1rem; border-radius: 8px; text-align: center;">
                  <div style="font-size: 0.85rem; opacity: 0.8;">Выполнено</div>
                  <div style="font-size: 1.5rem; font-weight: bold; color: #86efac;">5</div>
                </div>
                <div style="background: rgba(255,255,255,0.2); padding: 1rem; border-radius: 8px; text-align: center;">
                  <div style="font-size: 0.85rem; opacity: 0.8;">В работе</div>
                  <div style="font-size: 1.5rem; font-weight: bold; color: #fde047;">7</div>
                </div>
                <div style="background: rgba(255,255,255,0.2); padding: 1rem; border-radius: 8px; text-align: center;">
                  <div style="font-size: 0.85rem; opacity: 0.8;">Прогресс</div>
                  <div style="font-size: 1.5rem; font-weight: bold;">42%</div>
                </div>
              </div>

              <!-- Categories filter -->
              <div style="display: flex; gap: 0.5rem; margin-bottom: 1rem; flex-wrap: wrap;">
                <span style="background: rgba(255,255,255,0.3); padding: 0.4rem 0.8rem; border-radius: 20px; font-size: 0.85rem;">Все (12)</span>
                <span style="background: rgba(255,255,255,0.15); padding: 0.4rem 0.8rem; border-radius: 20px; font-size: 0.85rem;">Работа (5)</span>
                <span style="background: rgba(255,255,255,0.15); padding: 0.4rem 0.8rem; border-radius: 20px; font-size: 0.85rem;">Личное (4)</span>
                <span style="background: rgba(255,255,255,0.15); padding: 0.4rem 0.8rem; border-radius: 20px; font-size: 0.85rem;">Учёба (3)</span>
              </div>

              <!-- Tasks list -->
              <div style="background: rgba(255,255,255,0.15); border-radius: 8px; overflow: hidden;">
                <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem 1rem; border-bottom: 1px solid rgba(255,255,255,0.1);">
                  <div style="display: flex; align-items: center; gap: 0.75rem;">
                    <span style="width: 20px; height: 20px; border: 2px solid rgba(255,255,255,0.5); border-radius: 4px;"></span>
                    <span>Подготовить презентацию</span>
                    <span style="background: #EF4444; padding: 2px 8px; border-radius: 4px; font-size: 0.75rem;">Работа</span>
                  </div>
                  <span style="color: #fca5a5; font-size: 0.85rem;">high</span>
                </div>
                <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem 1rem; border-bottom: 1px solid rgba(255,255,255,0.1);">
                  <div style="display: flex; align-items: center; gap: 0.75rem;">
                    <span style="width: 20px; height: 20px; background: #86efac; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: #166534;">&#10003;</span>
                    <span style="text-decoration: line-through; opacity: 0.7;">Купить продукты</span>
                    <span style="background: #10B981; padding: 2px 8px; border-radius: 4px; font-size: 0.75rem;">Личное</span>
                  </div>
                  <span style="opacity: 0.5; font-size: 0.85rem;">low</span>
                </div>
                <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem 1rem;">
                  <div style="display: flex; align-items: center; gap: 0.75rem;">
                    <span style="width: 20px; height: 20px; border: 2px solid rgba(255,255,255,0.5); border-radius: 4px;"></span>
                    <span>Пройти курс SQL</span>
                    <span style="background: #8B5CF6; padding: 2px 8px; border-radius: 4px; font-size: 0.75rem;">Учёба</span>
                  </div>
                  <span style="color: #fde047; font-size: 0.85rem;">medium</span>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- Requirements: Database -->
        <section class="card">
          <div class="card-header">1. База данных</div>
          <div class="card-body">
            <p><strong>Таблица <code>categories</code>:</strong></p>

            <div class="table-container">
              <table>
                <thead>
                  <tr>
                    <th>Поле</th>
                    <th>Тип</th>
                    <th>Описание</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><code>id</code></td>
                    <td>SERIAL PRIMARY KEY</td>
                    <td>Уникальный ID</td>
                  </tr>
                  <tr>
                    <td><code>name</code></td>
                    <td>TEXT NOT NULL</td>
                    <td>Название категории</td>
                  </tr>
                  <tr>
                    <td><code>color</code></td>
                    <td>TEXT DEFAULT '#3B82F6'</td>
                    <td>Цвет для отображения</td>
                  </tr>
                  <tr>
                    <td><code>created_at</code></td>
                    <td>TIMESTAMP DEFAULT NOW()</td>
                    <td>Дата создания</td>
                  </tr>
                </tbody>
              </table>
            </div>

            <p style="margin-top: 1.5rem;"><strong>Таблица <code>tasks</code>:</strong></p>

            <div class="table-container">
              <table>
                <thead>
                  <tr>
                    <th>Поле</th>
                    <th>Тип</th>
                    <th>Описание</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><code>id</code></td>
                    <td>SERIAL PRIMARY KEY</td>
                    <td>Уникальный ID</td>
                  </tr>
                  <tr>
                    <td><code>title</code></td>
                    <td>TEXT NOT NULL</td>
                    <td>Название задачи</td>
                  </tr>
                  <tr>
                    <td><code>description</code></td>
                    <td>TEXT</td>
                    <td>Описание (необязательно)</td>
                  </tr>
                  <tr>
                    <td><code>completed</code></td>
                    <td>BOOLEAN DEFAULT false</td>
                    <td>Статус выполнения</td>
                  </tr>
                  <tr>
                    <td><code>priority</code></td>
                    <td>TEXT DEFAULT 'medium'</td>
                    <td>Приоритет (low/medium/high)</td>
                  </tr>
                  <tr>
                    <td><code>category_id</code></td>
                    <td>INTEGER REFERENCES categories(id)</td>
                    <td>Связь с категорией (Foreign Key)</td>
                  </tr>
                  <tr>
                    <td><code>created_at</code></td>
                    <td>TIMESTAMP DEFAULT NOW()</td>
                    <td>Дата создания</td>
                  </tr>
                </tbody>
              </table>
            </div>

            <ul class="checklist" style="margin-top: 1.5rem;">
              <li class="checklist-item">
                <span class="checklist-checkbox" data-id="project-categories"></span>
                <span class="checklist-text">Таблица categories создана</span>
              </li>
              <li class="checklist-item">
                <span class="checklist-checkbox" data-id="project-tasks"></span>
                <span class="checklist-text">Таблица tasks создана с Foreign Key</span>
              </li>
              <li class="checklist-item">
                <span class="checklist-checkbox" data-id="project-testdata"></span>
                <span class="checklist-text">Минимум 3 категории и 10 задач добавлено</span>
              </li>
              <li class="checklist-item">
                <span class="checklist-checkbox" data-id="project-rls"></span>
                <span class="checklist-text">RLS отключен для обеих таблиц</span>
              </li>
            </ul>

            <h4 style="margin-top: 2rem;">SQL код для создания таблиц:</h4>
            <div class="code-block">
              <div class="code-block-header">
                <span class="code-block-lang">SQL</span>
                <button class="code-block-copy" onclick="navigator.clipboard.writeText(this.closest('.code-block').querySelector('code').textContent)">Копировать</button>
              </div>
              <pre><code>-- Таблица категорий
CREATE TABLE categories (
  id SERIAL PRIMARY KEY,
  name TEXT NOT NULL,
  color TEXT DEFAULT '#6B7280',
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Таблица задач
CREATE TABLE tasks (
  id SERIAL PRIMARY KEY,
  title TEXT NOT NULL,
  description TEXT,
  priority TEXT CHECK (priority IN ('low', 'medium', 'high')) DEFAULT 'medium',
  completed BOOLEAN DEFAULT false,
  category_id INTEGER REFERENCES categories(id) ON DELETE SET NULL,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Автообновление updated_at
CREATE OR REPLACE FUNCTION update_updated_at()
RETURNS TRIGGER AS $$
BEGIN
  NEW.updated_at = NOW();
  RETURN NEW;
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER tasks_updated_at
  BEFORE UPDATE ON tasks
  FOR EACH ROW EXECUTE FUNCTION update_updated_at();</code></pre>
            </div>
          </div>
        </section>

        <!-- Sample Data -->
        <section class="card">
          <div class="card-header" style="background: #8B5CF6; color: white;">Примерные данные для старта</div>
          <div class="card-body">
            <p>Скопируйте и выполните в Supabase SQL Editor:</p>

            <div class="code-block">
              <div class="code-block-header">
                <span class="code-block-lang">SQL</span>
                <button class="code-block-copy" onclick="navigator.clipboard.writeText(this.closest('.code-block').querySelector('code').textContent)">Копировать</button>
              </div>
              <pre><code>-- Категории
INSERT INTO categories (name, color) VALUES
  ('Работа', '#3B82F6'),
  ('Личное', '#10B981'),
  ('Покупки', '#F59E0B'),
  ('Здоровье', '#EF4444'),
  ('Учёба', '#8B5CF6'),
  ('Дом', '#EC4899');

-- Задачи
INSERT INTO tasks (title, description, priority, completed, category_id) VALUES
  -- Работа (category_id = 1)
  ('Подготовить презентацию', 'Слайды для встречи в понедельник', 'high', false, 1),
  ('Ответить на письма', 'Разобрать входящие за неделю', 'medium', false, 1),
  ('Созвон с командой', 'Еженедельный статус в 15:00', 'high', true, 1),

  -- Личное (category_id = 2)
  ('Позвонить маме', NULL, 'high', false, 2),
  ('Записаться к стоматологу', 'Плановый осмотр', 'medium', false, 2),
  ('Поздравить Сашу с ДР', 'Купить подарок!', 'high', true, 2),

  -- Покупки (category_id = 3)
  ('Купить продукты', 'Молоко, хлеб, яйца, сыр', 'medium', false, 3),
  ('Заказать корм коту', 'Royal Canin 4кг', 'low', false, 3),
  ('Купить подарок Саше', 'Книга или гаджет', 'high', true, 3),

  -- Здоровье (category_id = 4)
  ('Пробежка в парке', '5 км утром', 'medium', false, 4),
  ('Выпить 2л воды', 'Ежедневная цель', 'low', true, 4),

  -- Учёба (category_id = 5)
  ('Пройти урок по SQL', 'Модуль 8: WHERE фильтрация', 'high', false, 5),
  ('Сделать домашку', 'Практика с JOIN запросами', 'medium', false, 5),

  -- Дом (category_id = 6)
  ('Полить цветы', NULL, 'low', false, 6),
  ('Вызвать сантехника', 'Течёт кран на кухне', 'high', false, 6),
  ('Разобрать шкаф', 'Выбросить старые вещи', 'low', true, 6);</code></pre>
            </div>

            <h4 style="margin-top: 1.5rem;">Итого в базе:</h4>
            <div class="table-container">
              <table>
                <thead>
                  <tr>
                    <th>Категория</th>
                    <th>Цвет</th>
                    <th>Задач</th>
                    <th>Активных</th>
                    <th>Выполнено</th>
                  </tr>
                </thead>
                <tbody>
                  <tr><td>Работа</td><td><span style="background: #3B82F6; color: white; padding: 2px 8px; border-radius: 4px;">синий</span></td><td>3</td><td>2</td><td>1</td></tr>
                  <tr><td>Личное</td><td><span style="background: #10B981; color: white; padding: 2px 8px; border-radius: 4px;">зелёный</span></td><td>3</td><td>2</td><td>1</td></tr>
                  <tr><td>Покупки</td><td><span style="background: #F59E0B; color: white; padding: 2px 8px; border-radius: 4px;">жёлтый</span></td><td>3</td><td>2</td><td>1</td></tr>
                  <tr><td>Здоровье</td><td><span style="background: #EF4444; color: white; padding: 2px 8px; border-radius: 4px;">красный</span></td><td>2</td><td>1</td><td>1</td></tr>
                  <tr><td>Учёба</td><td><span style="background: #8B5CF6; color: white; padding: 2px 8px; border-radius: 4px;">фиолет</span></td><td>2</td><td>2</td><td>0</td></tr>
                  <tr><td>Дом</td><td><span style="background: #EC4899; color: white; padding: 2px 8px; border-radius: 4px;">розовый</span></td><td>3</td><td>2</td><td>1</td></tr>
                  <tr style="font-weight: bold; background: var(--bg-tertiary);"><td>Всего</td><td></td><td>16</td><td>11</td><td>5</td></tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>

        <!-- Example Queries -->
        <section class="card">
          <div class="card-header" style="background: #10B981; color: white;">Примеры SQL запросов</div>
          <div class="card-body">
            <p>Эти запросы понадобятся для API endpoints:</p>

            <h4>1. Получить все задачи с категориями (JOIN)</h4>
            <div class="code-block">
              <div class="code-block-header">
                <span class="code-block-lang">SQL</span>
                <button class="code-block-copy" onclick="navigator.clipboard.writeText(this.closest('.code-block').querySelector('code').textContent)">Копировать</button>
              </div>
              <pre><code>SELECT
  tasks.*,
  categories.name AS category_name,
  categories.color AS category_color
FROM tasks
LEFT JOIN categories ON tasks.category_id = categories.id
ORDER BY tasks.created_at DESC;</code></pre>
            </div>

            <h4 style="margin-top: 1.5rem;">2. Фильтрация по категории</h4>
            <div class="code-block">
              <div class="code-block-header">
                <span class="code-block-lang">SQL</span>
                <button class="code-block-copy" onclick="navigator.clipboard.writeText(this.closest('.code-block').querySelector('code').textContent)">Копировать</button>
              </div>
              <pre><code>SELECT tasks.*, categories.name AS category_name, categories.color AS category_color
FROM tasks
LEFT JOIN categories ON tasks.category_id = categories.id
WHERE tasks.category_id = 1;  -- Только задачи категории "Работа"</code></pre>
            </div>

            <h4 style="margin-top: 1.5rem;">3. Категории с количеством задач (COUNT + GROUP BY)</h4>
            <div class="code-block">
              <div class="code-block-header">
                <span class="code-block-lang">SQL</span>
                <button class="code-block-copy" onclick="navigator.clipboard.writeText(this.closest('.code-block').querySelector('code').textContent)">Копировать</button>
              </div>
              <pre><code>SELECT
  categories.*,
  COUNT(tasks.id) AS task_count
FROM categories
LEFT JOIN tasks ON categories.id = tasks.category_id
GROUP BY categories.id
ORDER BY task_count DESC;</code></pre>
            </div>

            <h4 style="margin-top: 1.5rem;">4. Статистика задач</h4>
            <div class="code-block">
              <div class="code-block-header">
                <span class="code-block-lang">SQL</span>
                <button class="code-block-copy" onclick="navigator.clipboard.writeText(this.closest('.code-block').querySelector('code').textContent)">Копировать</button>
              </div>
              <pre><code>SELECT
  COUNT(*) AS total,
  COUNT(*) FILTER (WHERE completed = true) AS completed,
  COUNT(*) FILTER (WHERE completed = false) AS pending,
  ROUND(
    COUNT(*) FILTER (WHERE completed = true)::numeric /
    NULLIF(COUNT(*), 0) * 100
  ) AS progress_percent
FROM tasks;</code></pre>
            </div>

            <h4 style="margin-top: 1.5rem;">5. Невыполненные высокого приоритета</h4>
            <div class="code-block">
              <div class="code-block-header">
                <span class="code-block-lang">SQL</span>
                <button class="code-block-copy" onclick="navigator.clipboard.writeText(this.closest('.code-block').querySelector('code').textContent)">Копировать</button>
              </div>
              <pre><code>SELECT t.title, c.name AS category
FROM tasks t
JOIN categories c ON t.category_id = c.id
WHERE t.completed = false AND t.priority = 'high'
ORDER BY t.created_at;

-- Результат:
-- Подготовить презентацию | Работа
-- Позвонить маме          | Личное
-- Пройти урок по SQL      | Учёба
-- Вызвать сантехника      | Дом</code></pre>
            </div>
          </div>
        </section>

        <!-- Requirements: API -->
        <section class="card">
          <div class="card-header">2. API Endpoints</div>
          <div class="card-body">
            <div class="table-container">
              <table>
                <thead>
                  <tr>
                    <th>Метод</th>
                    <th>Endpoint</th>
                    <th>Описание</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><span style="background: #10B981; color: white; padding: 2px 8px; border-radius: 4px; font-size: 0.85rem;">GET</span></td>
                    <td><code>/api/tasks</code></td>
                    <td>Получить все задачи с данными категории (JOIN)</td>
                  </tr>
                  <tr>
                    <td><span style="background: #10B981; color: white; padding: 2px 8px; border-radius: 4px; font-size: 0.85rem;">GET</span></td>
                    <td><code>/api/tasks?category_id=1</code></td>
                    <td>Фильтрация задач по категории</td>
                  </tr>
                  <tr>
                    <td><span style="background: #3B82F6; color: white; padding: 2px 8px; border-radius: 4px; font-size: 0.85rem;">POST</span></td>
                    <td><code>/api/tasks</code></td>
                    <td>Создать новую задачу</td>
                  </tr>
                  <tr>
                    <td><span style="background: #10B981; color: white; padding: 2px 8px; border-radius: 4px; font-size: 0.85rem;">GET</span></td>
                    <td><code>/api/categories</code></td>
                    <td>Получить категории с количеством задач (COUNT + GROUP BY)</td>
                  </tr>
                  <tr>
                    <td><span style="background: #10B981; color: white; padding: 2px 8px; border-radius: 4px; font-size: 0.85rem;">GET</span></td>
                    <td><code>/api/stats</code></td>
                    <td>Статистика: всего задач, выполнено, процент</td>
                  </tr>
                </tbody>
              </table>
            </div>

            <ul class="checklist" style="margin-top: 1rem;">
              <li class="checklist-item">
                <span class="checklist-checkbox" data-id="project-get-tasks"></span>
                <span class="checklist-text">GET /api/tasks возвращает задачи с категориями</span>
              </li>
              <li class="checklist-item">
                <span class="checklist-checkbox" data-id="project-filter"></span>
                <span class="checklist-text">Фильтрация по category_id работает</span>
              </li>
              <li class="checklist-item">
                <span class="checklist-checkbox" data-id="project-post-tasks"></span>
                <span class="checklist-text">POST /api/tasks создаёт задачу</span>
              </li>
              <li class="checklist-item">
                <span class="checklist-checkbox" data-id="project-categories-count"></span>
                <span class="checklist-text">GET /api/categories возвращает count задач</span>
              </li>
              <li class="checklist-item">
                <span class="checklist-checkbox" data-id="project-stats"></span>
                <span class="checklist-text">GET /api/stats возвращает статистику</span>
              </li>
            </ul>
          </div>
        </section>

        <!-- Requirements: Frontend -->
        <section class="card">
          <div class="card-header">3. Фронтенд</div>
          <div class="card-body">
            <ul class="checklist">
              <li class="checklist-item">
                <span class="checklist-checkbox" data-id="project-stats-ui"></span>
                <span class="checklist-text">Статистика отображается (всего, выполнено, прогресс %)</span>
              </li>
              <li class="checklist-item">
                <span class="checklist-checkbox" data-id="project-categories-filter"></span>
                <span class="checklist-text">Кнопки фильтрации по категориям с количеством</span>
              </li>
              <li class="checklist-item">
                <span class="checklist-checkbox" data-id="project-task-list"></span>
                <span class="checklist-text">Список задач с названием категории и цветом</span>
              </li>
              <li class="checklist-item">
                <span class="checklist-checkbox" data-id="project-completed-style"></span>
                <span class="checklist-text">Выполненные задачи визуально отличаются</span>
              </li>
              <li class="checklist-item">
                <span class="checklist-checkbox" data-id="project-priority"></span>
                <span class="checklist-text">Приоритет отображается (цвет или метка)</span>
              </li>
              <li class="checklist-item">
                <span class="checklist-checkbox" data-id="project-add-form"></span>
                <span class="checklist-text">Форма добавления задачи с выбором категории</span>
              </li>
              <li class="checklist-item">
                <span class="checklist-checkbox" data-id="project-loading"></span>
                <span class="checklist-text">Состояние загрузки отображается</span>
              </li>
            </ul>
          </div>
        </section>

        <!-- Expected Structure -->
        <section class="card">
          <div class="card-header">Ожидаемая структура проекта</div>
          <div class="card-body">
            <div class="code-block">
              <div class="code-block-header">
                <span class="code-block-lang">Структура</span>
              </div>
              <pre><code>task-manager-pro/
├── app/
│   ├── api/
│   │   ├── tasks/
│   │   │   └── route.ts           # GET all (with JOIN), POST new
│   │   ├── categories/
│   │   │   └── route.ts           # GET with task count
│   │   └── stats/
│   │       └── route.ts           # GET statistics
│   ├── page.tsx                   # Главная страница
│   ├── layout.tsx
│   └── globals.css
│
├── components/
│   ├── TaskList.tsx               # Список задач
│   ├── CategoryFilter.tsx         # Фильтр по категориям
│   ├── StatsPanel.tsx             # Панель статистики
│   └── AddTaskForm.tsx            # Форма добавления
│
├── lib/
│   └── supabase.ts                # Supabase client
│
├── .env.local                     # Ключи Supabase
├── package.json
└── README.md</code></pre>
            </div>
          </div>
        </section>

        <!-- Evaluation -->
        <section class="card">
          <div class="card-header">Критерии оценки</div>
          <div class="card-body">
            <div class="table-container">
              <table>
                <thead>
                  <tr>
                    <th>Критерий</th>
                    <th>Баллы</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>Таблица categories создана корректно</td>
                    <td>10</td>
                  </tr>
                  <tr>
                    <td>Таблица tasks с Foreign Key создана</td>
                    <td>10</td>
                  </tr>
                  <tr>
                    <td>GET /api/tasks с JOIN работает</td>
                    <td>15</td>
                  </tr>
                  <tr>
                    <td>POST /api/tasks работает</td>
                    <td>10</td>
                  </tr>
                  <tr>
                    <td>GET /api/categories с COUNT работает</td>
                    <td>15</td>
                  </tr>
                  <tr>
                    <td>GET /api/stats возвращает статистику</td>
                    <td>10</td>
                  </tr>
                  <tr>
                    <td>Фронтенд: статистика отображается</td>
                    <td>10</td>
                  </tr>
                  <tr>
                    <td>Фронтенд: фильтрация по категориям</td>
                    <td>10</td>
                  </tr>
                  <tr>
                    <td>Фронтенд: форма добавления работает</td>
                    <td>10</td>
                  </tr>
                  <tr style="font-weight: bold; background: var(--bg-tertiary);">
                    <td>Итого</td>
                    <td>100</td>
                  </tr>
                  <tr style="background: rgba(16, 185, 129, 0.1);">
                    <td><strong>БОНУС:</strong> Удаление и редактирование задач</td>
                    <td>+10</td>
                  </tr>
                  <tr style="background: rgba(16, 185, 129, 0.1);">
                    <td><strong>БОНУС:</strong> Сортировка по приоритету/дате</td>
                    <td>+5</td>
                  </tr>
                  <tr style="background: rgba(16, 185, 129, 0.1);">
                    <td><strong>БОНУС:</strong> Деплой на Vercel</td>
                    <td>+10</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>

        <!-- Submission -->
        <section class="card">
          <div class="card-header">Сдача проекта</div>
          <div class="card-body">
            <ol>
              <li>Убедитесь, что все чек-листы выполнены</li>
              <li>Протестируйте все API endpoints через браузер или Postman</li>
              <li>Проверьте работу фильтрации и статистики</li>
              <li>Отправьте преподавателю:
                <ul>
                  <li>Ссылку на GitHub репозиторий</li>
                  <li>Скриншот работающего приложения</li>
                  <li>(Бонус) Ссылку на Vercel деплой</li>
                </ul>
              </li>
            </ol>

            <div class="alert alert-success" style="margin-top: 1.5rem;">
              <svg class="alert-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                <polyline points="22,4 12,14.01 9,11.01"/>
              </svg>
              <div>
                <strong>Поздравляем!</strong> Вы освоили работу с базами данных: SQL запросы, связи таблиц, JOIN, агрегации и интеграцию в приложение. Это фундамент для создания любых data-driven приложений!
              </div>
            </div>

            <div class="alert alert-info" style="margin-top: 1rem;">
              <svg class="alert-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"/>
                <path d="M12 16v-4"/>
                <path d="M12 8h.01"/>
              </svg>
              <div>
                <strong>Следующий модуль:</strong> Аутентификация с Supabase Auth — научимся добавлять регистрацию, вход и защиту данных каждого пользователя с помощью RLS!
              </div>
            </div>
          </div>
        </section>

        <nav class="lesson-nav">
          <a href="lesson-9.html" class="nav-arrow nav-arrow-prev">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="15,18 9,12 15,6"/>
            </svg>
            <div>
              <div class="nav-arrow-label">Назад</div>
              <div class="nav-arrow-title">Продвинутые техники</div>
            </div>
          </a>

          <button class="btn btn-primary mark-complete-btn" data-lesson="10">
            Завершить модуль
          </button>

          <a href="../../index.html" class="nav-arrow nav-arrow-next">
            <div>
              <div class="nav-arrow-label">Далее</div>
              <div class="nav-arrow-title">Вернуться к курсу</div>
            </div>
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="9,6 15,12 9,18"/>
            </svg>
          </a>
        </nav>
      </div>
    </main>
  </div>

  <script src="js/glossary.js"></script>
  <script src="js/admin.js"></script>
  <script src="js/app.js"></script>
  <script src="js/quiz.js"></script>
</body>
</html>
