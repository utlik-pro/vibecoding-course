<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–£—Ä–æ–∫ 6.6: –ü–µ—Ä–≤—ã–π API Route | VibeCoding</title>
  <script src="js/auth-check.js"></script>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <div class="app-container">
    <aside class="sidebar">
      <div class="sidebar-header">
        <div class="sidebar-logo">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 2L2 7l10 5 10-5-10-5z"/><path d="M2 17l10 5 10-5"/><path d="M2 12l10 5 10-5"/>
          </svg>
          VibeCoding
        </div>
      </div>
      <div class="progress-container">
        <div class="progress-bar"><div class="progress-fill" style="width: 0%"></div></div>
        <div class="progress-text">0 –∏–∑ 10 —É—Ä–æ–∫–æ–≤</div>
      </div>
      <nav class="sidebar-nav">
        <div class="nav-section">–ú–æ–¥—É–ª—å 6</div>
        <a href="index.html" class="nav-item"><span class="nav-item-number"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9,22 9,12 15,12 15,22"/></svg></span>–ì–ª–∞–≤–Ω–∞—è</a>
        <a href="lesson-1.html" class="nav-item" data-lesson="1"><span class="nav-item-number">1</span>–ß—Ç–æ —Ç–∞–∫–æ–µ –±—ç–∫–µ–Ω–¥</a>
        <a href="lesson-2.html" class="nav-item" data-lesson="2"><span class="nav-item-number">2</span>–ß—Ç–æ —Ç–∞–∫–æ–µ API</a>
        <a href="lesson-3.html" class="nav-item" data-lesson="3"><span class="nav-item-number">3</span>–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö</a>
        <a href="lesson-4.html" class="nav-item" data-lesson="4"><span class="nav-item-number">4</span>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Supabase</a>
        <a href="lesson-5.html" class="nav-item" data-lesson="5"><span class="nav-item-number">5</span>–°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã</a>
        <a href="lesson-6.html" class="nav-item active" data-lesson="6"><span class="nav-item-number">6</span>–ü–µ—Ä–≤—ã–π API Route</a>
        <a href="lesson-7.html" class="nav-item" data-lesson="7"><span class="nav-item-number">7</span>CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏</a>
        <a href="lesson-8.html" class="nav-item" data-lesson="8"><span class="nav-item-number">8</span>–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API</a>
        <a href="lesson-9.html" class="nav-item" data-lesson="9"><span class="nav-item-number">9</span>–§—Ä–æ–Ω—Ç–µ–Ω–¥ + –ë—ç–∫–µ–Ω–¥</a>
        <a href="project.html" class="nav-item" data-lesson="10"><span class="nav-item-number">P</span>–ò—Ç–æ–≥–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç</a>
        <div class="nav-section" style="margin-top: 1rem;">–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫</div>
        <a href="glossary.html" class="nav-item"><span class="nav-item-number"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/></svg></span>–ì–ª–æ—Å—Å–∞—Ä–∏–π</a>
        <a href="../../index.html" class="nav-item exit-btn"><span class="nav-item-number"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16,17 21,12 16,7"/><line x1="21" y1="12" x2="9" y2="12"/></svg></span>–í—ã–π—Ç–∏ –∏–∑ –º–æ–¥—É–ª—è</a>
      </nav>
    </aside>

    <div class="overlay"></div>

    <main class="main-content">
      <header class="header">
        <button class="mobile-menu-btn" aria-label="–ú–µ–Ω—é"><span></span><span></span><span></span></button>
        <div class="breadcrumb">
          <a href="index.html">–ú–æ–¥—É–ª—å 6</a>
          <span class="breadcrumb-separator">/</span>
          <span>–£—Ä–æ–∫ 6.6</span>
        </div>
        <div class="header-actions">
          <div class="timer">
            <span class="timer-icon">‚è±</span>
            <span class="timer-display">00:00</span>
            <button class="timer-btn" title="–ó–∞–ø—É—Å—Ç–∏—Ç—å">‚ñ∂</button>
            <button class="timer-reset" title="–°–±—Ä–æ—Å–∏—Ç—å">‚Ü∫</button>
          </div>
          <div class="mode-toggle" title="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ä–µ–∂–∏–º">
            <div class="mode-toggle-switch"></div>
            <span class="mode-toggle-label">–†–µ–∂–∏–º —Å—Ç—É–¥–µ–Ω—Ç–∞</span>
          </div>
        </div>
      </header>

      <div class="content">
        <div class="lesson-header">
          <div class="lesson-meta">
            <span class="lesson-number">–£—Ä–æ–∫ 6.6</span>
            <span class="lesson-duration">‚è± 30 –º–∏–Ω—É—Ç</span>
          </div>
          <h1 class="lesson-title">–ü–µ—Ä–≤—ã–π API Route –¥–ª—è Money Tracker</h1>
          <div class="lesson-objectives">
            <h4>–¶–µ–ª–∏ —É—Ä–æ–∫–∞:</h4>
            <ul>
              <li>–°–æ–∑–¥–∞—Ç—å GET endpoint –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π</li>
              <li>–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å API –≤ –±—Ä–∞—É–∑–µ—Ä–µ</li>
              <li>–î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –ø–æ —Ç–∏–ø—É (income/expense)</li>
              <li>–£–≤–∏–¥–µ—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ Supabase –≤ –±—Ä–∞—É–∑–µ—Ä–µ</li>
            </ul>
          </div>
        </div>

        <div class="teacher-note">
          <div class="teacher-note-header">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="10"/><path d="M12 6v6l4 2"/>
            </svg>
            –ó–∞–º–µ—Ç–∫–∞ –¥–ª—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è
          </div>
          <div class="teacher-note-content">
            <p><strong>–≠—Ç–æ –∫–ª—é—á–µ–≤–æ–π —É—Ä–æ–∫!</strong> –°—Ç—É–¥–µ–Ω—Ç—ã –≤–ø–µ—Ä–≤—ã–µ —Å–æ–∑–¥–∞—é—Ç –Ω–∞—Å—Ç–æ—è—â–∏–π API. –†–µ–∑—É–ª—å—Ç–∞—Ç –≤–∏–¥–µ–Ω —Å—Ä–∞–∑—É –≤ –±—Ä–∞—É–∑–µ—Ä–µ ‚Äî —ç—Ç–æ –º–æ—Ç–∏–≤–∏—Ä—É–µ—Ç! –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Cursor –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞.</p>
          </div>
        </div>

        <!-- –ß—Ç–æ –±—É–¥–µ–º —Å–æ–∑–¥–∞–≤–∞—Ç—å -->
        <section class="card">
          <div class="card-header">–ß—Ç–æ –±—É–¥–µ–º —Å–æ–∑–¥–∞–≤–∞—Ç—å</div>
          <div class="card-body">
            <p>–°–µ–π—á–∞—Å –Ω–∞—à–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ª–µ–∂–∞—Ç –≤ Supabase. –ú—ã —Å–æ–∑–¥–∞–¥–∏–º <a href="glossary.html#api-route" class="glossary-link">API Route</a> ‚Äî —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π URL, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ.</p>

            <div style="background: #F9FAFB; border: 2px solid #E5E7EB; border-radius: 12px; padding: 1.5rem; margin: 1rem 0;">
              <p style="margin: 0 0 1rem 0; font-weight: 600;">–°—Ö–µ–º–∞ —Ä–∞–±–æ—Ç—ã:</p>
              <div style="display: flex; align-items: center; justify-content: center; gap: 1rem; flex-wrap: wrap; font-size: 0.9rem;">
                <div style="background: #EFF6FF; padding: 0.75rem 1rem; border-radius: 8px; text-align: center;">
                  <div>üñ•Ô∏è</div>
                  <div>–ë—Ä–∞—É–∑–µ—Ä</div>
                </div>
                <div style="color: #6B7280;">‚Üí</div>
                <div style="background: #FEF3C7; padding: 0.75rem 1rem; border-radius: 8px; text-align: center;">
                  <div>üìç</div>
                  <div>/api/transactions</div>
                </div>
                <div style="color: #6B7280;">‚Üí</div>
                <div style="background: #ECFDF5; padding: 0.75rem 1rem; border-radius: 8px; text-align: center;">
                  <div>üóÑÔ∏è</div>
                  <div>Supabase</div>
                </div>
                <div style="color: #6B7280;">‚Üí</div>
                <div style="background: #EFF6FF; padding: 0.75rem 1rem; border-radius: 8px; text-align: center;">
                  <div>üìä</div>
                  <div>JSON –¥–∞–Ω–Ω—ã–µ</div>
                </div>
              </div>
            </div>

            <p><strong>–†–µ–∑—É–ª—å—Ç–∞—Ç:</strong> –û—Ç–∫—Ä–æ–µ—Ç–µ <code>localhost:3000/api/transactions</code> ‚Üí —É–≤–∏–¥–∏—Ç–µ —Å–≤–æ–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏!</p>
          </div>
        </section>

        <!-- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ API -->
        <section class="card">
          <div class="card-header">–°—Ç—Ä—É–∫—Ç—É—Ä–∞ API –≤ Next.js</div>
          <div class="card-body">
            <p>–í Next.js –ø—É—Ç—å —Ñ–∞–π–ª–∞ = URL endpoint:</p>

            <div class="code-block">
              <div class="code-block-header">
                <span class="code-block-lang">–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞</span>
              </div>
              <pre><code>app/
‚îî‚îÄ‚îÄ api/
    ‚îî‚îÄ‚îÄ transactions/
        ‚îî‚îÄ‚îÄ route.ts    ‚Üê –°–æ–∑–¥–∞–¥–∏–º —ç—Ç–æ—Ç —Ñ–∞–π–ª</code></pre>
            </div>

            <div style="background: #F3F4F6; border-radius: 8px; padding: 1rem; margin-top: 1rem;">
              <p style="margin: 0;"><strong>–ü—Ä–∞–≤–∏–ª–æ:</strong></p>
              <p style="margin: 0.5rem 0 0 0;">
                <code>app/api/transactions/route.ts</code> ‚Üí <code>/api/transactions</code>
              </p>
            </div>
          </div>
        </section>

        <!-- –ü—Ä–∞–∫—Ç–∏–∫–∞ 1: –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ -->
        <section class="card">
          <div class="card-header" style="background: #10B981; color: white;">üîß –ü—Ä–∞–∫—Ç–∏–∫–∞ 1: –°–æ–∑–¥–∞—ë–º API endpoint</div>
          <div class="card-body">
            <p><strong>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Cursor –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è API:</strong></p>

            <div style="background: #F3F4F6; border-radius: 8px; padding: 1rem; margin: 1rem 0;">
              <h4 style="margin: 0 0 1rem 0;">–®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ Cursor</h4>
              <ol style="margin: 0; padding-left: 1.5rem;">
                <li>–ù–∞–∂–º–∏—Ç–µ <code>Cmd+K</code> (Mac) –∏–ª–∏ <code>Ctrl+K</code> (Windows)</li>
                <li>–í–≤–µ–¥–∏—Ç–µ –ø—Ä–æ–º–ø—Ç –Ω–∏–∂–µ</li>
              </ol>
            </div>

            <div class="code-block">
              <div class="code-block-header">
                <span class="code-block-lang">–ü—Ä–æ–º–ø—Ç –¥–ª—è Cursor</span>
                <button class="code-block-copy" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                    <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
                  </svg>
                </button>
              </div>
              <pre><code>–°–æ–∑–¥–∞–π —Ñ–∞–π–ª app/api/transactions/route.ts –¥–ª—è Money Tracker:

1. GET endpoint ‚Äî –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∏–∑ Supabase
2. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π supabase –∏–∑ lib/supabase
3. –û—Ç—Å–æ—Ä—Ç–∏—Ä—É–π –ø–æ –¥–∞—Ç–µ (–Ω–æ–≤—ã–µ –ø–µ—Ä–≤—ã–µ)
4. –í–µ—Ä–Ω–∏ JSON —Å –¥–∞–Ω–Ω—ã–º–∏
5. –û–±—Ä–∞–±–æ—Ç–∞–π –æ—à–∏–±–∫–∏ (—Å—Ç–∞—Ç—É—Å 500)</code></pre>
            </div>

            <h4 style="margin-top: 1.5rem;">–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ—Ç Cursor:</h4>
            <div class="code-block">
              <div class="code-block-header">
                <span class="code-block-lang">app/api/transactions/route.ts</span>
              </div>
              <pre><code>import { NextResponse } from 'next/server'
import { supabase } from '@/lib/supabase'

export async function GET() {
  try {
    const { data, error } = await supabase
      .from('transactions')
      .select('*')
      .order('date', { ascending: false })

    if (error) {
      return NextResponse.json(
        { error: error.message },
        { status: 500 }
      )
    }

    return NextResponse.json(data)
  } catch (error) {
    return NextResponse.json(
      { error: 'Internal Server Error' },
      { status: 500 }
    )
  }
}</code></pre>
            </div>

            <div style="background: #ECFDF5; border: 1px solid #10B981; border-radius: 8px; padding: 1rem; margin-top: 1rem;">
              <strong style="color: #059669;">‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞:</strong>
              –§–∞–π–ª <code>app/api/transactions/route.ts</code> —Å–æ–∑–¥–∞–Ω?
            </div>
          </div>
        </section>

        <!-- –ü—Ä–∞–∫—Ç–∏–∫–∞ 2: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ -->
        <section class="card">
          <div class="card-header" style="background: #10B981; color: white;">üîß –ü—Ä–∞–∫—Ç–∏–∫–∞ 2: –¢–µ—Å—Ç–∏—Ä—É–µ–º –≤ –±—Ä–∞—É–∑–µ—Ä–µ</div>
          <div class="card-body">
            <p><strong>–¢–µ–ø–µ—Ä—å –ø—Ä–æ–≤–µ—Ä–∏–º, —á—Ç–æ API —Ä–∞–±–æ—Ç–∞–µ—Ç:</strong></p>

            <div style="background: #F3F4F6; border-radius: 8px; padding: 1rem; margin: 1rem 0;">
              <h4 style="margin: 0 0 1rem 0;">–®–∞–≥ 1: –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä</h4>
              <div class="code-block" style="margin: 0.5rem 0;">
                <pre><code>npm run dev</code></pre>
              </div>
            </div>

            <div style="background: #F3F4F6; border-radius: 8px; padding: 1rem; margin: 1rem 0;">
              <h4 style="margin: 0 0 1rem 0;">–®–∞–≥ 2: –û—Ç–∫—Ä–æ–π—Ç–µ URL</h4>
              <p style="margin: 0;">–í –±—Ä–∞—É–∑–µ—Ä–µ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ –∞–¥—Ä–µ—Å—É:</p>
              <p style="margin: 0.5rem 0; font-size: 1.1rem;"><code>http://localhost:3000/api/transactions</code></p>
            </div>

            <h4 style="margin-top: 1.5rem;">–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å JSON —Å –≤–∞—à–∏–º–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏:</h4>
            <div class="code-block">
              <div class="code-block-header">
                <span class="code-block-lang">–û—Ç–≤–µ—Ç API (–ø—Ä–∏–º–µ—Ä)</span>
              </div>
              <pre><code>[
  {
    "id": 1,
    "amount": 50000,
    "type": "income",
    "category": "–ó–∞—Ä–ø–ª–∞—Ç–∞",
    "description": "–î–µ–∫–∞–±—Ä—å 2024",
    "date": "2024-12-15",
    "created_at": "2024-12-15T10:00:00"
  },
  {
    "id": 2,
    "amount": 1200,
    "type": "expense",
    "category": "–ï–¥–∞",
    "description": "–û–±–µ–¥ –≤ –∫–∞—Ñ–µ",
    "date": "2024-12-16",
    "created_at": "2024-12-16T12:30:00"
  }
]</code></pre>
            </div>

            <div style="background: #ECFDF5; border: 1px solid #10B981; border-radius: 8px; padding: 1rem; margin-top: 1rem;">
              <strong style="color: #059669;">üéâ –£—Å–ø–µ—Ö!</strong>
              –ï—Å–ª–∏ –≤—ã –≤–∏–¥–∏—Ç–µ —Å–≤–æ–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ ‚Äî –ø–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –≠—Ç–æ –≤–∞—à –ø–µ—Ä–≤—ã–π —Ä–∞–±–æ—Ç–∞—é—â–∏–π API!
            </div>

            <div style="background: #FEF2F2; border: 1px solid #EF4444; border-radius: 8px; padding: 1rem; margin-top: 1rem;">
              <strong style="color: #DC2626;">üêõ –ï—Å–ª–∏ –æ—à–∏–±–∫–∞:</strong>
              <ul style="margin: 0.5rem 0 0 1.5rem; padding: 0;">
                <li><code>Module not found</code> ‚Äî –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å –∫ lib/supabase.ts</li>
                <li><code>relation "transactions" does not exist</code> ‚Äî —Ç–∞–±–ª–∏—Ü–∞ –Ω–µ —Å–æ–∑–¥–∞–Ω–∞ –≤ Supabase</li>
                <li>–ü—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ <code>[]</code> ‚Äî –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö –≤ —Ç–∞–±–ª–∏—Ü–µ</li>
              </ul>
            </div>
          </div>
        </section>

        <!-- –ü—Ä–∞–∫—Ç–∏–∫–∞ 3: –†–∞–∑–±–æ—Ä –∫–æ–¥–∞ -->
        <section class="card">
          <div class="card-header" style="background: #10B981; color: white;">üîß –ü—Ä–∞–∫—Ç–∏–∫–∞ 3: –†–∞–∑–±–∏—Ä–∞–µ–º –∫–æ–¥</div>
          <div class="card-body">
            <p><strong>–î–∞–≤–∞–π—Ç–µ –ø–æ–π–º—ë–º, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞:</strong></p>

            <div style="overflow-x: auto; margin: 1rem 0;">
              <table style="width: 100%; border-collapse: collapse; font-size: 0.9rem;">
                <thead>
                  <tr style="background: #F3F4F6;">
                    <th style="padding: 0.75rem; text-align: left; border: 1px solid #E5E7EB;">–ö–æ–¥</th>
                    <th style="padding: 0.75rem; text-align: left; border: 1px solid #E5E7EB;">–ß—Ç–æ –¥–µ–ª–∞–µ—Ç</th>
                    <th style="padding: 0.75rem; text-align: left; border: 1px solid #E5E7EB;">–î–ª—è Money Tracker</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="padding: 0.75rem; border: 1px solid #E5E7EB;"><code>export async function GET()</code></td>
                    <td style="padding: 0.75rem; border: 1px solid #E5E7EB;">–û–±—Ä–∞–±–æ—Ç—á–∏–∫ GET-–∑–∞–ø—Ä–æ—Å–æ–≤</td>
                    <td style="padding: 0.75rem; border: 1px solid #E5E7EB;">–ö–æ–≥–¥–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ–º URL –≤ –±—Ä–∞—É–∑–µ—Ä–µ</td>
                  </tr>
                  <tr style="background: #FFFBEB;">
                    <td style="padding: 0.75rem; border: 1px solid #E5E7EB;"><code>supabase.from('transactions')</code></td>
                    <td style="padding: 0.75rem; border: 1px solid #E5E7EB;">–û–±—Ä–∞—â–µ–Ω–∏–µ –∫ —Ç–∞–±–ª–∏—Ü–µ</td>
                    <td style="padding: 0.75rem; border: 1px solid #E5E7EB;">–†–∞–±–æ—Ç–∞–µ–º —Å –Ω–∞—à–∏–º–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏</td>
                  </tr>
                  <tr style="background: #FFFBEB;">
                    <td style="padding: 0.75rem; border: 1px solid #E5E7EB;"><code>.select('*')</code></td>
                    <td style="padding: 0.75rem; border: 1px solid #E5E7EB;">–í—ã–±—Ä–∞—Ç—å –≤—Å–µ –∫–æ–ª–æ–Ω–∫–∏</td>
                    <td style="padding: 0.75rem; border: 1px solid #E5E7EB;">–ü–æ–ª—É—á–∞–µ–º –≤—Å–µ –ø–æ–ª—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏</td>
                  </tr>
                  <tr style="background: #FFFBEB;">
                    <td style="padding: 0.75rem; border: 1px solid #E5E7EB;"><code>.order('date', { ascending: false })</code></td>
                    <td style="padding: 0.75rem; border: 1px solid #E5E7EB;">–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞</td>
                    <td style="padding: 0.75rem; border: 1px solid #E5E7EB;">–ù–æ–≤—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å–≤–µ—Ä—Ö—É</td>
                  </tr>
                  <tr>
                    <td style="padding: 0.75rem; border: 1px solid #E5E7EB;"><code>NextResponse.json(data)</code></td>
                    <td style="padding: 0.75rem; border: 1px solid #E5E7EB;">–í–µ—Ä–Ω—É—Ç—å JSON</td>
                    <td style="padding: 0.75rem; border: 1px solid #E5E7EB;">–û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –±—Ä–∞—É–∑–µ—Ä—É</td>
                  </tr>
                </tbody>
              </table>
            </div>

            <div style="background: #FEF3C7; border: 1px solid #F59E0B; border-radius: 8px; padding: 1rem; margin-top: 1rem;">
              <strong>üéØ –ó–∞–¥–∞–Ω–∏–µ:</strong> –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É –Ω–∞ <code>ascending: true</code> –∏ –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É. –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å?
            </div>
          </div>
        </section>

        <!-- –ü—Ä–∞–∫—Ç–∏–∫–∞ 4: –î–æ–±–∞–≤–ª—è–µ–º —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é -->
        <section class="card">
          <div class="card-header" style="background: #10B981; color: white;">üîß –ü—Ä–∞–∫—Ç–∏–∫–∞ 4: –î–æ–±–∞–≤–ª—è–µ–º —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é</div>
          <div class="card-body">
            <p><strong>–°–¥–µ–ª–∞–µ–º API —É–º–Ω–µ–µ ‚Äî –¥–æ–±–∞–≤–∏–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏!</strong></p>

            <p>–•–æ—Ç–∏–º –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–ª—å–∫–æ —Ä–∞—Å—Ö–æ–¥—ã –∏–ª–∏ —Ç–æ–ª—å–∫–æ –¥–æ—Ö–æ–¥—ã:</p>
            <ul>
              <li><code>/api/transactions</code> ‚Äî –≤—Å–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏</li>
              <li><code>/api/transactions?type=income</code> ‚Äî —Ç–æ–ª—å–∫–æ –¥–æ—Ö–æ–¥—ã</li>
              <li><code>/api/transactions?type=expense</code> ‚Äî —Ç–æ–ª—å–∫–æ —Ä–∞—Å—Ö–æ–¥—ã</li>
            </ul>

            <div class="code-block" style="margin-top: 1rem;">
              <div class="code-block-header">
                <span class="code-block-lang">–ü—Ä–æ–º–ø—Ç –¥–ª—è Cursor</span>
                <button class="code-block-copy" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                    <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
                  </svg>
                </button>
              </div>
              <pre><code>–î–æ–±–∞–≤—å –≤ GET —Ñ—É–Ω–∫—Ü–∏—é —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –ø–æ —Ç–∏–ø—É —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏:
- –ü–æ–ª—É—á–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä ?type –∏–∑ URL (request.nextUrl.searchParams)
- –ï—Å–ª–∏ type —É–∫–∞–∑–∞–Ω, —Ñ–∏–ª—å—Ç—Ä—É–π –ø–æ –Ω–µ–º—É (.eq('type', type))
- –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω, –≤–µ—Ä–Ω–∏ –≤—Å–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏</code></pre>
            </div>

            <h4 style="margin-top: 1.5rem;">–û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π –∫–æ–¥:</h4>
            <div class="code-block">
              <div class="code-block-header">
                <span class="code-block-lang">app/api/transactions/route.ts</span>
              </div>
              <pre><code>import { NextRequest, NextResponse } from 'next/server'
import { supabase } from '@/lib/supabase'

export async function GET(request: NextRequest) {
  try {
    // –ü–æ–ª—É—á–∞–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä type –∏–∑ URL
    const type = request.nextUrl.searchParams.get('type')

    // –ë–∞–∑–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å
    let query = supabase
      .from('transactions')
      .select('*')
      .order('date', { ascending: false })

    // –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω —Ç–∏–ø ‚Äî —Ñ–∏–ª—å—Ç—Ä—É–µ–º
    if (type) {
      query = query.eq('type', type)
    }

    const { data, error } = await query

    if (error) {
      return NextResponse.json({ error: error.message }, { status: 500 })
    }

    return NextResponse.json(data)
  } catch (error) {
    return NextResponse.json({ error: 'Internal Server Error' }, { status: 500 })
  }
}</code></pre>
            </div>

            <h4 style="margin-top: 1.5rem;">–¢–µ—Å—Ç–∏—Ä—É–µ–º —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é:</h4>
            <div style="display: grid; gap: 0.5rem; margin: 1rem 0;">
              <div style="background: #F3F4F6; padding: 0.75rem 1rem; border-radius: 6px;">
                <code>http://localhost:3000/api/transactions</code>
                <span style="color: #6B7280; margin-left: 0.5rem;">‚Üí –≤—Å–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏</span>
              </div>
              <div style="background: #ECFDF5; padding: 0.75rem 1rem; border-radius: 6px;">
                <code>http://localhost:3000/api/transactions?type=income</code>
                <span style="color: #059669; margin-left: 0.5rem;">‚Üí —Ç–æ–ª—å–∫–æ –¥–æ—Ö–æ–¥—ã üí∞</span>
              </div>
              <div style="background: #FEF2F2; padding: 0.75rem 1rem; border-radius: 6px;">
                <code>http://localhost:3000/api/transactions?type=expense</code>
                <span style="color: #DC2626; margin-left: 0.5rem;">‚Üí —Ç–æ–ª—å–∫–æ —Ä–∞—Å—Ö–æ–¥—ã üí∏</span>
              </div>
            </div>

            <div style="background: #ECFDF5; border: 1px solid #10B981; border-radius: 8px; padding: 1rem; margin-top: 1rem;">
              <strong style="color: #059669;">‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞:</strong>
              –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤—Å–µ —Ç—Ä–∏ URL. –î–∞–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ?
            </div>
          </div>
        </section>

        <!-- –ü—Ä–∞–∫—Ç–∏–∫–∞ 5: –ú–∏–Ω–∏-–∑–∞–¥–∞–Ω–∏–µ -->
        <section class="card">
          <div class="card-header" style="background: #10B981; color: white;">üîß –ü—Ä–∞–∫—Ç–∏–∫–∞ 5: –°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ</div>
          <div class="card-body">
            <p><strong>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –µ—â—ë –æ–¥–∏–Ω —Ñ–∏–ª—å—Ç—Ä ‚Äî –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏!</strong></p>

            <div style="background: #FEF3C7; border: 1px solid #F59E0B; border-radius: 8px; padding: 1rem; margin: 1rem 0;">
              <strong>üéØ –ó–∞–¥–∞–Ω–∏–µ:</strong><br>
              –î–æ–±–∞–≤—å—Ç–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏: <code>?category=–ï–¥–∞</code><br>
              <br>
              <strong>–ü–æ–¥—Å–∫–∞–∑–∫–∞:</strong> –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–∞–∫–æ–π –∂–µ –ø–æ–¥—Ö–æ–¥ –∫–∞–∫ —Å type:
              <ol style="margin: 0.5rem 0 0 1.5rem; padding: 0;">
                <li>–ü–æ–ª—É—á–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä category –∏–∑ URL</li>
                <li>–ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω ‚Äî –¥–æ–±–∞–≤—å—Ç–µ <code>.eq('category', category)</code></li>
              </ol>
            </div>

            <details style="margin-top: 1rem;">
              <summary style="cursor: pointer; font-weight: 600; color: #3B82F6;">–ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ</summary>
              <div class="code-block" style="margin-top: 1rem;">
                <div class="code-block-header">
                  <span class="code-block-lang">–î–æ–±–∞–≤—å—Ç–µ –ø–æ—Å–ª–µ —Ñ–∏–ª—å—Ç—Ä–∞ type</span>
                </div>
                <pre><code>// –§–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
const category = request.nextUrl.searchParams.get('category')
if (category) {
  query = query.eq('category', category)
}</code></pre>
              </div>
            </details>

            <p style="margin-top: 1rem;"><strong>–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã:</strong></p>
            <ul>
              <li><code>/api/transactions?category=–ï–¥–∞</code> ‚Äî —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –Ω–∞ –µ–¥—É</li>
              <li><code>/api/transactions?type=expense&category=–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç</code> ‚Äî —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç</li>
            </ul>
          </div>
        </section>

        <!-- Quiz -->
        <section class="quiz">
          <div class="quiz-header">
            <div class="quiz-icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"/>
                <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/>
                <line x1="12" y1="17" x2="12.01" y2="17"/>
              </svg>
            </div>
            <h3 class="quiz-title">–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ–±—è</h3>
          </div>

          <div class="quiz-question">–ö–∞–∫–æ–π —Ñ–∞–π–ª –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –¥–ª—è endpoint /api/transactions?</div>

          <div class="quiz-options">
            <div class="quiz-option" data-correct="false">
              <span class="quiz-option-marker"></span>
              <span>pages/api/transactions.ts</span>
            </div>
            <div class="quiz-option" data-correct="true">
              <span class="quiz-option-marker"></span>
              <span>app/api/transactions/route.ts</span>
            </div>
            <div class="quiz-option" data-correct="false">
              <span class="quiz-option-marker"></span>
              <span>api/transactions.ts</span>
            </div>
            <div class="quiz-option" data-correct="false">
              <span class="quiz-option-marker"></span>
              <span>routes/transactions.ts</span>
            </div>
          </div>

          <div class="quiz-feedback"><div class="quiz-feedback-text"></div></div>
          <div class="quiz-actions">
            <button class="btn btn-primary quiz-check-btn">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
            <button class="btn btn-secondary quiz-next-btn hidden">–î–∞–ª–µ–µ</button>
            <button class="btn btn-secondary quiz-reset-btn hidden">–ü—Ä–æ–π—Ç–∏ —Å–Ω–æ–≤–∞</button>
          </div>
        </section>

        <!-- –ò—Ç–æ–≥ -->
        <section class="card">
          <div class="card-header">–ò—Ç–æ–≥: —á—Ç–æ –≥–æ—Ç–æ–≤–æ –¥–ª—è Money Tracker</div>
          <div class="card-body">
            <table style="width: 100%; border-collapse: collapse;">
              <tr style="border-bottom: 1px solid #E5E7EB;">
                <td style="padding: 0.75rem 0; width: 50%;">‚úÖ GET /api/transactions</td>
                <td style="padding: 0.75rem 0;">–ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏</td>
              </tr>
              <tr style="border-bottom: 1px solid #E5E7EB;">
                <td style="padding: 0.75rem 0;">‚úÖ ?type=income</td>
                <td style="padding: 0.75rem 0;">–§–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É</td>
              </tr>
              <tr style="border-bottom: 1px solid #E5E7EB;">
                <td style="padding: 0.75rem 0;">‚úÖ ?category=–ï–¥–∞</td>
                <td style="padding: 0.75rem 0;">–§–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</td>
              </tr>
              <tr>
                <td style="padding: 0.75rem 0;">‚è≥ POST, PATCH, DELETE</td>
                <td style="padding: 0.75rem 0;">–°–æ–∑–¥–∞–¥–∏–º –≤ —Å–ª–µ–¥—É—é—â–µ–º —É—Ä–æ–∫–µ!</td>
              </tr>
            </table>

            <p style="margin-top: 1.5rem; padding: 1rem; background: #EFF6FF; border-radius: 8px;">
              <strong>–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:</strong> –í –£—Ä–æ–∫–µ 7 –¥–æ–±–∞–≤–∏–º –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω–∏—è, –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏ —É–¥–∞–ª–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π (<a href="glossary.html#crud" class="glossary-link">CRUD</a>).
            </p>
          </div>
        </section>

        <!-- Checklist -->
        <section class="card">
          <div class="card-header">–ß–µ–∫-–ª–∏—Å—Ç —É—Ä–æ–∫–∞</div>
          <div class="card-body">
            <ul class="checklist">
              <li class="checklist-item">
                <span class="checklist-checkbox" data-id="lesson6-folder"></span>
                <span class="checklist-text">–ü–∞–ø–∫–∞ app/api/transactions/ —Å–æ–∑–¥–∞–Ω–∞</span>
              </li>
              <li class="checklist-item">
                <span class="checklist-checkbox" data-id="lesson6-route"></span>
                <span class="checklist-text">–§–∞–π–ª route.ts —Å–æ–∑–¥–∞–Ω —Å –ø–æ–º–æ—â—å—é Cursor</span>
              </li>
              <li class="checklist-item">
                <span class="checklist-checkbox" data-id="lesson6-test"></span>
                <span class="checklist-text">API —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ (–≤–∏–¥–∏—Ç–µ JSON)</span>
              </li>
              <li class="checklist-item">
                <span class="checklist-checkbox" data-id="lesson6-filter-type"></span>
                <span class="checklist-text">–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ type —Ä–∞–±–æ—Ç–∞–µ—Ç</span>
              </li>
              <li class="checklist-item">
                <span class="checklist-checkbox" data-id="lesson6-filter-category"></span>
                <span class="checklist-text">–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ category –¥–æ–±–∞–≤–ª–µ–Ω–∞ (–±–æ–Ω—É—Å)</span>
              </li>
            </ul>
          </div>
        </section>

        <!-- Navigation -->
        <nav class="lesson-nav">
          <a href="lesson-5.html" class="nav-arrow nav-arrow-prev">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="15,18 9,12 15,6"/>
            </svg>
            <div>
              <div class="nav-arrow-label">–ù–∞–∑–∞–¥</div>
              <div class="nav-arrow-title">–°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã</div>
            </div>
          </a>

          <button class="btn btn-primary mark-complete-btn" data-lesson="6">
            –û—Ç–º–µ—Ç–∏—Ç—å —É—Ä–æ–∫ –ø—Ä–æ–π–¥–µ–Ω–Ω—ã–º
          </button>

          <a href="lesson-7.html" class="nav-arrow nav-arrow-next">
            <div>
              <div class="nav-arrow-label">–î–∞–ª–µ–µ</div>
              <div class="nav-arrow-title">CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏</div>
            </div>
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="9,6 15,12 9,18"/>
            </svg>
          </a>
        </nav>
      </div>
    </main>
  </div>

  <script src="js/glossary.js"></script>
  <script src="js/admin.js"></script>
  <script src="js/app.js"></script>
  <script src="js/quiz.js"></script>
</body>
</html>
